@echo off
chcp 65001 >nul
echo ================================================================================
echo                   ЛАБОРАТОРНАЯ РАБОТА №3
echo        Получение объяснений от моделей машинного обучения
echo ================================================================================
echo.

echo [1/3] Проверка Python...
python --version
if errorlevel 1 (
    echo ОШИБКА: Python не найден!
    echo Установите Python с https://www.python.org/downloads/
    pause
    exit /b 1
)
echo.

echo [2/3] Установка зависимостей...
echo Это может занять несколько минут при первом запуске...
python -m pip install --upgrade pip
pip install -r requirements.txt
if errorlevel 1 (
    echo ОШИБКА: Не удалось установить зависимости!
    pause
    exit /b 1
)
echo.

echo [3/3] Запуск главного скрипта...
echo.
python main.py
echo.

if errorlevel 1 (
    echo.
    echo ================================================================================
    echo ПРОГРАММА ЗАВЕРШИЛАСЬ С ОШИБКОЙ!
    echo ================================================================================
    pause
    exit /b 1
) else (
    echo.
    echo ================================================================================
    echo ПРОГРАММА УСПЕШНО ЗАВЕРШЕНА!
    echo ================================================================================
    echo.
    echo Результаты сохранены в директориях:
    echo   - data\         - загруженные данные
    echo   - results\      - отчеты и метрики
    echo   - plots\        - графики и визуализации
    echo   - models\       - обученные модели
    echo.
    pause
)
